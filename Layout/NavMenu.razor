@inject NavigationManager Navigation

<header class="sticky top-0 z-50 w-full border-b border-border/50 glass">
    <div class="container-wide">
        <div class="flex h-16 items-center justify-between">
            <!-- Logo -->
            <a class="flex items-center gap-3 group" href="/">
                <img src="images/logo-icon.svg" alt="Strategies4AI" class="h-9 w-9 transition-transform group-hover:scale-105" />
                <span class="font-bold text-xl hidden sm:block">
                    Strategies<span class="gradient-text">4AI</span>
                </span>
            </a>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center gap-1">
                <NavLink class="nav-link" href="/" Match="NavLinkMatch.All">
                    Home
                </NavLink>
                <NavLink class="nav-link" href="/blog">
                    Blog
                </NavLink>
                <NavLink class="nav-link" href="/about">
                    About
                </NavLink>
            </nav>

            <!-- Right side actions -->
            <div class="flex items-center gap-2">
                <ThemeToggle />

                <!-- Mobile menu button -->
                <button class="btn btn-ghost md:hidden p-2"
                        @onclick="ToggleNavMenu"
                        type="button"
                        aria-label="Toggle Menu">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        @if (collapseNavMenu)
                        {
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                        }
                        else
                        {
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        }
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile menu -->
    @if (!collapseNavMenu)
    {
        <div class="md:hidden border-t border-border/50 bg-background animate-fade-in">
            <nav class="container-wide py-4 flex flex-col gap-1">
                <NavLink class="mobile-nav-link" href="/" Match="NavLinkMatch.All" @onclick="ToggleNavMenu">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    Home
                </NavLink>
                <NavLink class="mobile-nav-link" href="/blog" @onclick="ToggleNavMenu">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                    </svg>
                    Blog
                </NavLink>
                <NavLink class="mobile-nav-link" href="/about" @onclick="ToggleNavMenu">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    About
                </NavLink>
            </nav>
        </div>
    }
</header>

<style>
    .nav-link {
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.9375rem;
        font-weight: 500;
        color: var(--color-muted-foreground);
        transition: all 150ms ease;
    }

    .nav-link:hover {
        color: var(--color-foreground);
        background-color: var(--color-accent);
    }

    .nav-link.active {
        color: var(--color-primary);
        background-color: hsl(224 76% 48% / 0.1);
    }

    .mobile-nav-link {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        font-size: 1rem;
        font-weight: 500;
        color: var(--color-muted-foreground);
        transition: all 150ms ease;
    }

    .mobile-nav-link:hover,
    .mobile-nav-link.active {
        color: var(--color-foreground);
        background-color: var(--color-accent);
    }

    .mobile-nav-link.active {
        color: var(--color-primary);
        background-color: hsl(224 76% 48% / 0.1);
    }
</style>

@code {
    private bool collapseNavMenu = true;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
